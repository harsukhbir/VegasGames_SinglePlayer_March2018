// After Installing Application Days Counting



document.addEventListener("deviceready", AppInFoGet, false);
// document.addEventListener("pause", onPauseBackGround, false);
// document.addEventListener("backbutton", onBackKeyDownEvents, false);

// function onPauseBackGround() {
//  alert("onPauseBackGround");
// }

// function onBackKeyDownEvents() {
//  alert("onBackKeyDownEvents");
// }


var Replay_Game = "Replay Game";
  var Replay_Game_No = {
    "Replay Game_No": "1"
  };

  var Bingo_Complete_Level = "Bingo & Keno - Complete Level";
  var Bingo_Complete_Level_No = {
    "Bingo & Keno - Complete Level_No": "1"
  };

  var Bingo_Not_Complete_Level = "Bingo & Keno - Level Not Complete";
  var Bingo_Not_Complete_Level_No = {
    "Bingo & Keno Level Not Complete_No": "1"
  };

  var User_Login = "User Login";
  var User_Login_No = {
    "User Login_No": "1"
  };

  var User_Registration = "User Registration";
  var User_Registration_No = {
    "User Registration_No": "1"
  };

  var User_Checkout = "User Checkout";
  var User_Checkout_No = {
    "User Checkout_No": "1"
  };

  var User_Purchase = "User Purchase";
  var User_Purchase_No = {
    "User Purchase_No": "1"
  };

  var User_Invite_Social_Events = "Invite Social Events";
  var User_Invite_Social_Events_No = {
    "Invite Social Events_No": "1"
  };

  var Roulette_Complete_Level = "Roulette - Complete Level";
  var Roulette_Complete_Level_No = {
    "Roulette Complete Level_No": "1"
  };

  var Roulette_Replay_Game = "Roulette - Replay Game";
  var Roulette_Replay_Game_No = {
    "Roulette Replay Game_No": "1"
  };

  var Roulette_New_Bet = "Roulette - New Bet";
  var Roulette_New_Bet_No = {
    "Roulette New Bet_No": "1"
  };

  var MoneyWhell_Complete_Level = "MoneyWhell - Complete Level";
  var MoneyWhell_Complete_Level_No = {
    "MoneyWhell Complete Level_No": "1"
  };

  var MoneyWhell_Replay_Game = "MoneyWhell - Replay Game";
  var MoneyWhell_Replay_Game_No = {
    "MoneyWhell Replay Game_No": "1"
  };

  var MoneyWhell_New_Game = "MoneyWhell - New Game";
  var MoneyWhell_New_Game_No = {
    "MoneyWhell New Game_No": "1"
  };

  var VP_Replay_Game = "VP - Replay Game";
  var VP_Replay_Game_No = {
    "VP Replay Game_No": "1"
  };

  var JB_Replay_Game = "JB - Replay Game";
  var JB_Replay_Game_No = {
    "JB Replay Game_No": "1"
  };

  var JW_Replay_Game = "JW - Replay Game";
  var JW_Replay_Game_No = {
    "JW Replay Game_No": "1"
  };

  var Add_paymentInfo1 = "Add Payment Info";
  var Add_paymentInfo_No1 = {
    "Add Payment_No": "1",
    "Add Payment_currency": "USD",
    "Payment_revenue": "1"
  };

  var Add_paymentInfo2 = "Add Payment Info";
  var Add_paymentInfo_No2 = {
    "Add Payment_No": "1",
    "Add Payment_currency": "USD",
    "Payment_revenue": "2"
  };

  var Add_paymentInfo3 = "Add Payment Info";
  var Add_paymentInfo_No3 = {
    "Add Payment_No": "1",
    "Add Payment_currency": "USD",
    "Payment_revenue": "5"
  };

  var Add_paymentInfo4 = "Add Payment Info";
  var Add_paymentInfo_No4 = {
    "Add Payment_No": "1",
    "Add Payment_currency": "USD",
    "Payment_revenue": "25"
  };

  var AppDownloadDay = "App Download Occurs Days";
  var AppDownloadDay_No = {
    "App Download Occurs Days_No": "1"
  };

  var Achievement_Unlocked = "Achievement Unlocked";
  var Achievement_Unlocked_No = {
    "Achievement Unlocked_No": "1"
  };

  var Content_View = "Content View";
  var Content_View_No = {
    "Content_View_No": "1"
  };

  var Open_From_PushNotification = "Opened From Push Notification";
  var Open_From_PushNotification_No = {
    "Opened From Push Notification_No": "1"
  };

  var Vegas_Games_Rate = "Vegas Games Single Player Rate";
  var Vegas_Games_Rate_No = {
    "Vegas Games Single Player Rate_No": "1"
  };

  var Vegas_Games_Sessions = "Vegas Games Single Player Every Time Opens Games Sessions";
  var Vegas_Games_Sessions_No = {
    "Vegas Games Single Player Every Time Opens Games Sessions_No": "1"
  };

  var Opens_The_App_NextDay = "Opens The App The Next Day (Day 1) Retained";
  var Opens_The_App_NextDay_No = {
    "Opens The App The Next Day Retained_No": "1"
  };

  var Opens_The_App_Retention_Days = "Opens The App Retention Days 1_3_7_30";
  var Opens_The_App_Retention_Days_No = {
    "Opens The App Retention Days 1_3_7_30_No": "1"
  };

  var Session_Length = "Session Length Times Out After 15 Seconds";
  var Session_Length_No = {
    "Session Length Times Out After 15 Seconds_No": "1"
  };

  var Number_Of_Installs_By_Country = "Number Of Installs Application By Country";
  var Number_Of_Installs_By_Country_No = {
    "Number Of Installs Application By Country_No": "1"
  };

  var Keno_New_Games = "Keno - New Game";
  var Keno_New_Games_No = {
    "Keno - New Games_No": "1"
  };

  var Keno_Replay_Game = "Keno - Replay Game";
  var Keno_Replay_Game_No = {
    "Keno - Replay Game_No": "1"
  };

  var Who_Has_Not_Played_In_28_Days = "Who Has Not Played In 28 Days";
  var Who_Has_Not_Played_In_28_Days_No = {
    "Who Has Not Played In 28 Days No": "1"
  };

  var Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days = "Retention Rate Who Return To The Game After 1,7,30 Days";
  var Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days_No = {
    "Retention Rate Who Return To The Game After 1,7,30 Days No": "1"
  };

  var Sessions_DAU = "Sessions/DAU";
  var Sessions_DAU_No = {
    "Sessions/DAU No": "1"
  };

  var Who_Just_Installed_App_To_Send_Invite_Another_Person = "Who Just Installing The App To Send An Invite To Another Person";
  var Who_Just_Installed_App_To_Send_Invite_Another_Person_No = {
    "Who Just Installing The App To Send An Invite To Another Person No": "1"
  };

  var Level_Achieved = "Level Achieved";
  var Level_Achieved_No = {
    "Level Achieved No": "1"
  };

function AppInFoGet() {

    







  var getAppDownloadTocken = localStorage.getItem("AppDownloadTocken");

  if (getAppDownloadTocken == null || getAppDownloadTocken == undefined) {
    localStorage.setItem("AppDownloadTocken", 0);

    var oneDates;
    var d = new Date(),
      month = '' + (d.getMonth() + 1),
      day = '' + d.getDate(),
      year = d.getFullYear();
    oneDates = year + '/' + month + '/' + day;
    console.log(oneDates);
    localStorage.setItem("saveInstallDate", oneDates);
    var Number_Of_Installs_By_Country = "Number Of Installs Application By Country";
    var Number_Of_Installs_By_Country_No = {
      "Number Of Installs Application By Country_No": "1"
    };
    var Sessions_DAU = "Sessions/DAU";
    var Sessions_DAU_No = {
      "Sessions/DAU No": "1"
    };
    window.plugins.appsFlyer.trackEvent(Number_Of_Installs_By_Country, Number_Of_Installs_By_Country_No);
    window.plugins.appsFlyer.trackEvent(Sessions_DAU, Sessions_DAU_No);
  } else {
    var getDT = localStorage.getItem("saveInstallDate");
    console.log(getDT);

    var twoDates;
    var dm = new Date(),
      month = '' + (dm.getMonth() + 1),
      day = '' + dm.getDate(),
      year = dm.getFullYear();
    twoDates = year + '/' + month + '/' + day;
    console.log(twoDates);
    var date1 = new Date(getDT);
    var date2 = new Date(twoDates);
    var diffDays = parseInt((date2 - date1) / (1000 * 60 * 60 * 24));
    console.log(diffDays);
    var Opens_The_App_NextDay = "Opens The App The Next Day (Day 1) Retained";
    var Opens_The_App_NextDay_No = {
      "Opens The App The Next Day Retained_No": "1"
    };

    var Opens_The_App_Retention_Days = "Opens The App Retention Days 1_3_7_30";
    var Opens_The_App_Retention_Days_No = {
      "Opens The App Retention Days 1_3_7_30_No": "1"
    };

    var Who_Has_Not_Played_In_28_Days = "Who Has Not Played In 28 Days";
    var Who_Has_Not_Played_In_28_Days_No = {
      "Who Has Not Played In 28 Days No": "1"
    };

    var Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days = "Retention Rate Who Return To The Game After 1,7,30 Days";
    var Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days_No = {
      "Retention Rate Who Return To The Game After 1,7,30 Days No": "1"
    };

    if (diffDays == 1) {
      window.plugins.appsFlyer.trackEvent(Opens_The_App_NextDay, Opens_The_App_NextDay_No);
      window.plugins.appsFlyer.trackEvent(Opens_The_App_Retention_Days, Opens_The_App_Retention_Days_No);
    }

    if (diffDays == 3) {
      window.plugins.appsFlyer.trackEvent(Opens_The_App_Retention_Days, Opens_The_App_Retention_Days_No);
    }

    if (diffDays == 7) {
      window.plugins.appsFlyer.trackEvent(Opens_The_App_Retention_Days, Opens_The_App_Retention_Days_No);
    }

    if (diffDays == 30) {
      window.plugins.appsFlyer.trackEvent(Opens_The_App_Retention_Days, Opens_The_App_Retention_Days_No);
    }

    if (diffDays >= 28) {
      window.plugins.appsFlyer.trackEvent(Who_Has_Not_Played_In_28_Days, Who_Has_Not_Played_In_28_Days_No);
    }

    if (diffDays >= 1) {
      window.plugins.appsFlyer.trackEvent(Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days, Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days_No);
    }

    if (diffDays >= 7) {
      window.plugins.appsFlyer.trackEvent(Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days, Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days_No);
    }

    if (diffDays >= 30) {
      window.plugins.appsFlyer.trackEvent(Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days, Retention_Rate_Who_Return_To_The_Game_After_1_7_30_Days_No);
    }

    if (twoDates == twoDates) {
      window.plugins.appsFlyer.trackEvent(Sessions_DAU, Sessions_DAU_No);
    }

  } else {
    console.log("difElse");
  }
}
}
// END - After Installing Application Days Counting



